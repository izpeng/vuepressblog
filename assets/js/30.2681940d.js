(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{564:function(t,v,_){"use strict";_.r(v);var e=_(2),d=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"_1-1redis-命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1redis-命令"}},[t._v("#")]),t._v(" 1.1Redis 命令")]),t._v(" "),_("h3",{attrs:{id:"_1-1-1string类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1string类型"}},[t._v("#")]),t._v(" 1.1.1String类型")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("命令")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("案例")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("set")]),t._v(" "),_("td",[t._v("添加key-value")]),t._v(" "),_("td",[t._v("set username admin")])]),t._v(" "),_("tr",[_("td",[t._v("get")]),t._v(" "),_("td",[t._v("根据key获取数据")]),t._v(" "),_("td",[t._v("get username")])]),t._v(" "),_("tr",[_("td",[t._v("strlen")]),t._v(" "),_("td",[t._v("获取key的长度")]),t._v(" "),_("td",[t._v("strlen key")])]),t._v(" "),_("tr",[_("td",[t._v("exists")]),t._v(" "),_("td",[t._v("判断key是否存在")]),t._v(" "),_("td",[t._v("exists name 返回1存在  0不存在")])]),t._v(" "),_("tr",[_("td",[t._v("del")]),t._v(" "),_("td",[t._v("删除redis中的key")]),t._v(" "),_("td",[t._v("del key")])]),t._v(" "),_("tr",[_("td",[t._v("Keys")]),t._v(" "),_("td",[t._v("用于查询符合条件的key")]),t._v(" "),_("td",[t._v("keys * 查询redis中全部的keykeys n?me 使用占位符获取数据keys nam* 获取nam开头的数据")])]),t._v(" "),_("tr",[_("td",[t._v("mset")]),t._v(" "),_("td",[t._v("赋值多个key-value")]),t._v(" "),_("td",[t._v("mset key1 value1 key2 value2 key3 value3")])]),t._v(" "),_("tr",[_("td",[t._v("mget")]),t._v(" "),_("td",[t._v("获取多个key的值")]),t._v(" "),_("td",[t._v("mget key1 key2")])]),t._v(" "),_("tr",[_("td",[t._v("append")]),t._v(" "),_("td",[t._v("对某个key的值进行追加")]),t._v(" "),_("td",[t._v("append key value")])]),t._v(" "),_("tr",[_("td",[t._v("type")]),t._v(" "),_("td",[t._v("检查某个key的类型")]),t._v(" "),_("td",[t._v("type key")])]),t._v(" "),_("tr",[_("td",[t._v("select")]),t._v(" "),_("td",[t._v("切换redis数据库")]),t._v(" "),_("td",[t._v("select 0-15 redis中共有16个数据库")])]),t._v(" "),_("tr",[_("td",[t._v("flushdb")]),t._v(" "),_("td",[t._v("清空单个数据库")]),t._v(" "),_("td",[t._v("flushdb")])]),t._v(" "),_("tr",[_("td",[t._v("flushall")]),t._v(" "),_("td",[t._v("清空全部数据库")]),t._v(" "),_("td",[t._v("flushall")])]),t._v(" "),_("tr",[_("td",[t._v("incr")]),t._v(" "),_("td",[t._v("自动加1")]),t._v(" "),_("td",[t._v("incr key")])]),t._v(" "),_("tr",[_("td",[t._v("decr")]),t._v(" "),_("td",[t._v("自动减1")]),t._v(" "),_("td",[t._v("decr key")])]),t._v(" "),_("tr",[_("td",[t._v("incrby")]),t._v(" "),_("td",[t._v("指定数值添加")]),t._v(" "),_("td",[t._v("incrby 10")])]),t._v(" "),_("tr",[_("td",[t._v("decrby")]),t._v(" "),_("td",[t._v("指定数值减")]),t._v(" "),_("td",[t._v("decrby 10")])]),t._v(" "),_("tr",[_("td",[t._v("expire")]),t._v(" "),_("td",[t._v("指定key的生效时间 单位秒")]),t._v(" "),_("td",[t._v("expire key 20 key20秒后失效")])]),t._v(" "),_("tr",[_("td",[t._v("pexpire")]),t._v(" "),_("td",[t._v("指定key的失效时间 单位毫秒")]),t._v(" "),_("td",[t._v("pexpire key 2000key 2000毫秒后失效")])]),t._v(" "),_("tr",[_("td",[t._v("ttl")]),t._v(" "),_("td",[t._v("检查key的剩余存活时间")]),t._v(" "),_("td",[t._v("ttl key")])]),t._v(" "),_("tr",[_("td",[t._v("persist")]),t._v(" "),_("td",[t._v("撤销key的失效时间")]),t._v(" "),_("td",[t._v("persist key")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-1-1-2hash类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-2hash类型"}},[t._v("#")]),t._v(" 1. 1.1.2Hash类型")]),t._v(" "),_("p",[t._v("说明:可以用散列类型保存对象和属性值")]),t._v(" "),_("p",[t._v("例子:User对象{id:2,name:小明,age:19}")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("命令")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("案例")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("hset")]),t._v(" "),_("td",[t._v("为对象添加数据")]),t._v(" "),_("td",[t._v("hset key field value")])]),t._v(" "),_("tr",[_("td",[t._v("hget")]),t._v(" "),_("td",[t._v("获取对象的属性值")]),t._v(" "),_("td",[t._v("hget key field")])]),t._v(" "),_("tr",[_("td",[t._v("hexists")]),t._v(" "),_("td",[t._v("判断对象的属性是否存在")]),t._v(" "),_("td",[t._v("HEXISTS key field1表示存在  0表示不存在")])]),t._v(" "),_("tr",[_("td",[t._v("hdel")]),t._v(" "),_("td",[t._v("删除hash中的属性")]),t._v(" "),_("td",[t._v("hdel user field [field ...]")])]),t._v(" "),_("tr",[_("td",[t._v("hgetall")]),t._v(" "),_("td",[t._v("获取hash全部元素和值")]),t._v(" "),_("td",[t._v("HGETALL key")])]),t._v(" "),_("tr",[_("td",[t._v("hkyes")]),t._v(" "),_("td",[t._v("获取hash中的所有字段")]),t._v(" "),_("td",[t._v("HKEYS key")])]),t._v(" "),_("tr",[_("td",[t._v("hlen")]),t._v(" "),_("td",[t._v("获取hash中所有属性的数量")]),t._v(" "),_("td",[t._v("hlen key")])]),t._v(" "),_("tr",[_("td",[t._v("hmget")]),t._v(" "),_("td",[t._v("获取hash里面指定字段的值")]),t._v(" "),_("td",[t._v("hmget key field [field ...]")])]),t._v(" "),_("tr",[_("td",[t._v("hmset")]),t._v(" "),_("td",[t._v("为hash的多个字段设定值")]),t._v(" "),_("td",[t._v("hmset key field value [field value ...]")])]),t._v(" "),_("tr",[_("td",[t._v("hsetnx")]),t._v(" "),_("td",[t._v("设置hash的一个字段,只有当这个字段不存在时有效")]),t._v(" "),_("td",[t._v("HSETNX key field value")])]),t._v(" "),_("tr",[_("td",[t._v("hstrlen")]),t._v(" "),_("td",[t._v("获取hash中指定key的长度")]),t._v(" "),_("td",[t._v("HSTRLEN key field")])]),t._v(" "),_("tr",[_("td",[t._v("hvals")]),t._v(" "),_("td",[t._v("获取hash的所有值")]),t._v(" "),_("td",[t._v("HVALS user")])])])]),t._v(" "),_("h3",{attrs:{id:"_1-1-1-3list类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-3list类型"}},[t._v("#")]),t._v(" 1. 1.1.3List类型")]),t._v(" "),_("p",[t._v("说明:Redis中的List集合是双端循环列表,分别可以从左右两个方向插入数据.")]),t._v(" "),_("p",[t._v("List集合可以当做队列使用,也可以当做栈使用")]),t._v(" "),_("p",[t._v("队列:存入数据的方向和获取数据的方向相反")]),t._v(" "),_("p",[t._v("栈:存入数据的方向和获取数据的方向相同")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("命令")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("案例")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("lpush")]),t._v(" "),_("td",[t._v("从队列的左边入队一个或多个元素")]),t._v(" "),_("td",[t._v("LPUSH key value [value ...]")])]),t._v(" "),_("tr",[_("td",[t._v("rpush")]),t._v(" "),_("td",[t._v("从队列的右边入队一个或多个元素")]),t._v(" "),_("td",[t._v("RPUSH key value [value ...]")])]),t._v(" "),_("tr",[_("td",[t._v("lpop")]),t._v(" "),_("td",[t._v("从队列的左端出队一个元素")]),t._v(" "),_("td",[t._v("LPOP key")])]),t._v(" "),_("tr",[_("td",[t._v("rpop")]),t._v(" "),_("td",[t._v("从队列的右端出队一个元素")]),t._v(" "),_("td",[t._v("RPOP key")])]),t._v(" "),_("tr",[_("td",[t._v("lpushx")]),t._v(" "),_("td",[t._v("当队列存在时从队列的左侧入队一个元素")]),t._v(" "),_("td",[t._v("LPUSHX key value")])]),t._v(" "),_("tr",[_("td",[t._v("rpushx")]),t._v(" "),_("td",[t._v("当队列存在时从队列的右侧入队一个元素")]),t._v(" "),_("td",[t._v("RPUSHx key value")])]),t._v(" "),_("tr",[_("td",[t._v("lrange")]),t._v(" "),_("td",[t._v("从列表中获取指定返回的元素")]),t._v(" "),_("td",[t._v("LRANGE key start stop  Lrange key 0 -1 获取全部队列的数据")])]),t._v(" "),_("tr",[_("td",[t._v("lrem")]),t._v(" "),_("td",[t._v("从存于 key 的列表里移除前 count 次出现的值为 value 的元素。 这个 count 参数通过下面几种方式影响这个操作：")]),t._v(" "),_("td")])])]),t._v(" "),_("ul",[_("li",[t._v("count > 0: 从头往尾移除值为 value 的元素。")]),t._v(" "),_("li",[t._v("count < 0: 从尾往头移除值为 value 的元素。")]),t._v(" "),_("li",[t._v('count = 0: 移除所有值为 value 的元素。\n|  LREM list -2 "hello" 会从存于 list 的列表里移除最后两个出现的 "hello"。需要注意的是，如果list里没有存在key就会被当作空list处理，所以当 key 不存在的时候，这个命令会返回 0。 |\n| Lset | 设置 index 位置的list元素的值为 value | LSET key index value |')])]),t._v(" "),_("h3",{attrs:{id:"_1-1-1-4redis事务命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-4redis事务命令"}},[t._v("#")]),t._v(" 1.1.1.4Redis事务命令")]),t._v(" "),_("p",[t._v("说明:redis中操作可以添加事务的支持.一项任务可以由多个redis命令完成,如果有一个命令失败导致入库失败时.需要实现事务回滚.")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("命令")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("案例")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("multi")]),t._v(" "),_("td",[t._v("标记一个事务开始")]),t._v(" "),_("td",[t._v("127.0.0.1:6379> MULTIOK")])]),t._v(" "),_("tr",[_("td",[t._v("exec")]),t._v(" "),_("td",[t._v("执行所有multi之后发的命令")]),t._v(" "),_("td",[t._v("127.0.0.1:6379> EXEC OK")])]),t._v(" "),_("tr",[_("td",[t._v("discard")]),t._v(" "),_("td",[t._v("丢弃所有multi之后发的命令")]),t._v(" "),_("td")])])]),t._v(" "),_("h1",{attrs:{id:"_2redis高级应用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2redis高级应用"}},[t._v("#")]),t._v(" 2Redis高级应用")]),t._v(" "),_("h2",{attrs:{id:"_2-1-redis入门案例"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-redis入门案例"}},[t._v("#")]),t._v(" 2.1 Redis入门案例")]),t._v(" "),_("h3",{attrs:{id:"_2-1-1添加jar包文件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1添加jar包文件"}},[t._v("#")]),t._v(" 2.1.1添加jar包文件")]),t._v(" "),_("p",[t._v("说明:在JT-PARENT项目中添加jar包文件")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",[_("code",[t._v("\x3c!-- jedis --\x3e\n\t<dependency>\n\t\t<groupId>redis.clients</groupId>\n\t\t<artifactId>jedis</artifactId>\n\t\t<version>${jedis.version}</version>\n\t</dependency>\n\n\t\x3c!--添加spring-datajar包  --\x3e\n\t<dependency>\n\t\t<groupId>org.springframework.data</groupId>\n\t\t<artifactId>spring-data-redis</artifactId>\n\t\t<version>1.4.1.RELEASE</version>\n\t</dependency>\n")])])]),_("p",[t._v("2.1.2入门案例-String")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",[_("code",[t._v('/**\n * 连接单台redis  \n * 参数介绍:\n * \tredisIP地址.\n *  redis:6379\n */\n@Test\npublic void test01(){\n\tJedis jedis = new Jedis("192.168.126.166",6379);\n\tjedis.set("redis", "redis入门案例");\n\tSystem.out.println\n\t("获取redis中的数据:"+jedis.get("redis"));\n\t//为数据设定超时时间  单位秒\n\tjedis.setex("1804", 100, "1804班");\n}\n')])])]),_("p",[t._v("2.1.3入门案例-hash")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",[_("code",[t._v('@Test\npublic void test01(){\n\tJedis jedis = new Jedis("192.168.126.148", 6379);\n\tjedis.hset("user", "id", "1");\n\tjedis.hset("user", "name", "tomcat");\n\tjedis.hset("user", "age", "18");\n\tSystem.out.println("操作完成!!!"+jedis.hget("user", "id"));\n\tMap<String,String> map = jedis.hgetAll("user");\n\tSystem.out.println(map);\n}\n')])])]),_("p",[t._v("结果展现:\n操作完成!!!1\n{name=tomcat, age=18, id=1}\n2.1.4入门案例-List")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",[_("code",[t._v('@Test\npublic void test02(){\n\tJedis jedis = new Jedis("192.168.126.148", 6379);\n\tLong number = jedis.lpush("list", "a","b","c","d","e");\n\tSystem.out.println("获取数据"+number);\n\tList<String> list= jedis.lrange("list", 0, -1);\n\tSystem.out.println("获取参数:"+list);\n}\n')])])]),_("p",[t._v("结果展现:\n获取数据5\n获取参数:[e, d, c, b, a]")])])}),[],!1,null,null,null);v.default=d.exports}}]);